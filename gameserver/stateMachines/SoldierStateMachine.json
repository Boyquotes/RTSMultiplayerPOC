{
  "id": "Soldier",
  "description": "SoldierUnitStateMachine",
  "initial": "Idle",
  "states": {
    "Idle": {
      "description": "Avoidance",
      "on": {
        "Move": {
          "target": "Move",
          "description": "whenever velocity > 0"
        },
        "Attack": {
          "target": "Attack"
        },
        "PlayerAttacked": {
          "target": "Defend"
        }
      }
    },
    "Move": {
      "description": "Steer and Avoidance",
      "on": {
        "ReachedPosition": {
          "target": "Idle"
        }
      }
    },
    "Attack": {
      "on": {
        "TargetNotInRange": {
          "target": "ChaseTarget"
        },
        "TargetLost": {
          "target": "FindTarget"
        },
        "Move": {
          "target": "Move"
        },
        "TargetKilled": {
          "target": "FindTarget"
        }
      }
    },
    "FindTarget": {
      "on": {
        "TargetFound": {
          "target": "Attack"
        },
        "TargetNotFound": {
          "target": "Idle"
        }
      }
    },
    "ChaseTarget": {
      "description": "Steer and Avoidance",
      "on": {
        "TargetInRange": {
          "target": "Attack"
        },
        "TargetLost": {
          "target": "FindTarget"
        },
        "Move": {
          "target": "Move",
          "description": "When user wants to cancel attack and force-move unit to specific position"
        }
      }
    },
    "Defend": {
      "on": {
        "AttackerUnitNearby": {
          "target": "Attack"
        },
        "NoAttackerUnitNearby": {
          "target": "Idle"
        }
      }
    }
  }
}